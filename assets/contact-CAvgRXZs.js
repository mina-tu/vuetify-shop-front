import{_ as d,M as o,P as f,o as p,c as _,w as t,h as g,a as c,as as v,ar as h,V as x,av as y}from"./index-i-EFj55S.js";import{b as n}from"./route-block-B_A1xBdJ.js";import{V}from"./VDataTable-l01tyd9K.js";import"./VList-CSCNZvid.js";import"./ssrBoot-bR_DaT8S.js";const r={__name:"contact",setup(w){const s=o([]),a=o(!1),l=[{text:"公司名稱",value:"companyName"},{text:"公司統編",value:"companyId"},{text:"聯絡人姓名",value:"contactName"},{text:"聯絡人電話",value:"contactPhone"},{text:"訊息",value:"message"},{text:"日期",value:"date"}],{apiAuth:i}=y(),u=async()=>{a.value=!0;try{const e=await i.get("/contactMessage/all");e.data.success?s.value=e.data.result:console.error("Failed to fetch messages:",e.data.message)}catch(e){console.error("Error fetching messages:",e.message)}finally{a.value=!1}};return f(()=>{u()}),(e,k)=>(p(),_(g,null,{default:t(()=>[c(x,null,{default:t(()=>[c(V,{headers:l,items:s.value,"item-key":"id",loading:a.value,hover:""},{"item.date":t(({item:m})=>[v("span",null,h(new Date(m.date).toLocaleDateString()),1)]),_:2},1032,["items","loading"])]),_:1})]),_:1}))}};typeof n=="function"&&n(r);const A=d(r,[["__scopeId","data-v-c3cfd931"]]);export{A as default};
