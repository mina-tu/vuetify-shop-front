import{u as v,am as _,o as w,c as S,w as t,i as k,a as s,V as y,b as c,d as e,az as B,ax as d,as as g,Z as F,ao as M,h as C}from"./index-i-EFj55S.js";import{c as N,a as m,u as U,e as p}from"./vee-validate.esm-CKO5RHfK.js";import{v as q}from"./index-DcBOdE6S.js";import{V as A}from"./VMain-CSbPJOYx.js";import{V as P}from"./VForm-D-xJThR3.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./ssrBoot-bR_DaT8S.js";const R=g("h1",{class:"gradient-text text-h4 font-weight-bold text-center",style:{"line-height":"2"}},"Login",-1),T={class:"text-center"},H={__name:"login",setup($){const b=k(),V=v(),u=_(),f=N({account:m().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",o=>q.isAlphanumeric(o)),password:m().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:x,isSubmitting:i}=U({validationSchema:f}),r=p("account"),l=p("password"),h=x(async o=>{const a=await V.login(o);a==="登入成功"?(u({text:a,snackbarProps:{color:"blue"}}),b.push("/")):u({text:a,snackbarProps:{color:"red"}})});return(o,a)=>(w(),S(A,{class:"gradient-background"},{default:t(()=>[s(C,{class:"logincard"},{default:t(()=>[s(y,null,{default:t(()=>[s(c,{cols:"12"},{default:t(()=>[R]),_:1}),s(c,{cols:"12",style:{padding:"2rem"}},{default:t(()=>[s(P,{disabled:e(i),onSubmit:B(e(h),["prevent"])},{default:t(()=>[s(d,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:e(r).value.value,"onUpdate:modelValue":a[0]||(a[0]=n=>e(r).value.value=n),"error-messages":e(r).errorMessage.value,class:"blue-text"},null,8,["modelValue","error-messages"]),s(d,{label:"密碼",minlength:"4",maxlength:"20",counter:"",type:"password",modelValue:e(l).value.value,"onUpdate:modelValue":a[1]||(a[1]=n=>e(l).value.value=n),"error-messages":e(l).errorMessage.value,class:"blue-text"},null,8,["modelValue","error-messages"]),g("div",T,[s(F,{class:"custom-btn",type:"submit",color:"green",loading:e(i)},{default:t(()=>[M("登入")]),_:1},8,["loading"])])]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{H as default};
